{% from "headelements/gittersidecar.njk" import gittersidecar %}
{% from "headelements/walllinks.njk" import walllinks %}
{% from "headelements/topics.njk" import topics %}
{% from "headelements/portfoliolink.njk" import portfoliolink %}
{% from "headelements/creditsmsg.njk" import creditsmsg %}
{% from "headelements/subtopics.njk" import subtopics %}

{% macro header(lo, iswall) %}
  <header class="ui center aligned middle aligned stackable grid segment">

    {% if lo.lotype != 'portfolio' %}
      {% include "headelements/sidebarlink.njk" %}
    {% endif %}

    <div class="ui five wide column">
      <h2> {{ lo.title }} </h2>
    </div>

    <div class="ui two wide column">
      {% if iswall %}
        {{ topics ("index.html") }}
        {% elif (lo.lotype == 'course') and lo.parent %}
        {{ portfoliolink ("../index.html", "Programme") }}
        {% elif (lo.lotype == 'topic') and (lo.parent.lotype == 'topic') %}
        {{ subtopics ("../index.html") }}
        {% elif (lo.lotype == 'topic') %}
        {{ topics ("../index.html") }}
        {% elif (lo.lotype == 'portfolio') %}
      {% else %}
      {% endif %}
    </div>

    <div class="ui five wide column">
      {{ creditsmsg(lo.credits) }}
    </div>
    <div class="four wide column">
      {% if lo.lotype == 'course' %}
        {{ walllinks (lo) }}
      {% endif %}
    </div>

  </header>
  {{ gittersidecar(lo.gitterid) }}
{% endmacro %}
